{"version":3,"sources":["webpack:///./src/lib/components/FancyParallelCoordinatesD3.js"],"names":["FancyParallelCoordinatesD3","el","props","update","bind","createPCP","margin","top","right","bottom","left","width","dataWidth","height","d3","selectAll","remove","parent","append","style","svg","attr","dimensions","data","map","label","boxOffset","scales","i","length","domain","range","xScale","padding","sensitiveDimensions","filter","sensitivity","leftBox","rightBox","fontSize","text","values","d","push","selection","foreground","enter","path","id","thresholdY","axes","each","call","scale","console","log","brush","extent","on","brushend","selections","Map","selected","selectedAxes","key","indexOf","value","index","arr","set","invert","active","Array","from","every","max","min","raise","setProps","redraw","dragging","position","v","marginTop","event","y","__origin__","__dragged__","Math","dx","sort","a","b","transition","p"],"mappings":"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","file":"add4055-main-wps-hmr.js","sourcesContent":["import * as d3 from 'd3'\n\nexport default class FancyParallelCoordinatesD3 {\n    constructor(el, props) {\n        this.update = this.update.bind(this);\n        this.createPCP = this.createPCP.bind(this);\n\n        this.margin = {top: 25, right: 0, bottom: 10, left: 0};\n        this.width = props.dataWidth - this.margin.left - this.margin.right;\n        this.height = props.height - this.margin.top - this.margin.bottom;\n\n        d3.select(el).selectAll(\"*\").remove();\n\n        parent = d3.select(el)\n            .append(\"div\")\n            .style(\"width\", props.width)\n            .style(\"overflow-x\", \"scroll\")\n            .style(\"-webkit-overflow-scrolling\", \"touch\");\n\n        this.svg = parent.append('svg')\n            .attr('width', this.width + this.margin.left + this.margin.right)\n            .attr('height', this.height + this.margin.top + this.margin.bottom)\n            .append('g')\n            .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n        this.createPCP(props, this.svg);\n    }\n\n    update(props) {\n\n    }\n\n    createPCP(props, svg) {\n        var dimensions = props.data.map(({label}) => label);\n        var boxOffset = 40;\n        var width = this.width,\n            height = this.height;\n\n        // Create axes for data\n        var scales = {}\n        for (let i = 0; i < dimensions.length; i++) {\n            scales[dimensions[i]] = d3.scaleLinear()\n                .domain(props.data[i].range)\n                .range([height, 0])\n        }\n\n        // Create x-axes to lay out the y-axes\n        var xScale = d3.scalePoint()\n            .range([0, width])\n            .padding(1)\n            .domain(dimensions);\n\n        // Create box for sensitivity, line for threshold\n        var sensitiveDimensions = props.data.filter(({sensitivity}) => sensitivity).map(({label}) => label);\n        var leftBox = xScale(sensitiveDimensions[0]) - boxOffset;\n        var rightBox = xScale(sensitiveDimensions[sensitiveDimensions.length - 1]) + boxOffset / 2;\n        svg.append(\"rect\")\n            .attr(\"width\", rightBox - leftBox)\n            .attr(\"height\", height + this.margin.top + this.margin.bottom - 4)\n            .attr(\"x\", leftBox)\n            .attr(\"y\", -this.margin.top + 2)\n            .attr(\"stroke\", \"#575757\")\n            .attr(\"fill\", \"#efefef\")\n            .attr(\"stroke-width\", \"2px\");\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(\" + (leftBox - props.fontSize) + \", \" + height / 2 + \")\")\n            .append(\"text\")\n            .text(\"Sensitivity\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"transform\", \"rotate(-90)\");\n\n        // draw lines\n        var values = [];\n        props.data.map(function (d) {\n            for (let i = 0; i < d.values.length; i++) {\n                if (values.length < d.values.length) {\n                    values.push({});\n                }\n                values[i][d.label] = d.values[i];\n                values[i]['id'] = i;\n            }\n        });\n\n\n        var selection = props.selection.length === 0 ? d3.range(values.length) : props.selection;\n        var foreground = svg.append(\"g\")\n            .selectAll(\"path\")\n            .data(values)\n            .enter().append(\"path\")\n            .attr(\"d\", path)\n            .style(\"fill\", \"none\")\n            .style(\"stroke\", function (d) {\n                return d.id in selection ? \"#005454\" : \"grey\"\n            })\n            .style(\"opacity\", 0.5)\n\n        // Draw threshold line\n        var thresholdY = scales[dimensions[0]](1.0);\n        svg.append(\"line\")\n            .attr(\"y1\", thresholdY)\n            .attr(\"y2\", thresholdY)\n            .attr(\"x1\", leftBox)\n            .attr(\"x2\", rightBox)\n            .attr(\"stroke\", \"red\")\n            .attr(\"stroke-width\", \"2px\")\n            .attr(\"stroke-dasharray\", (\"5,5\"));\n\n        // Draw the axes\n        var axes = svg.selectAll(\"myAxis\")\n            .data(dimensions).enter()\n            .append('g')\n            // move to right position\n            .attr(\"transform\", function (d) {\n                return \"translate(\" + xScale(d) + \")\";\n            })\n            // build axes\n            .each(function (d) {\n                d3.select(this).call(d3.axisLeft().scale(scales[d]));\n            });\n        axes\n            .append(\"text\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"y\", -9)\n            .text(function (d) {\n                return d;\n            })\n\n        axes\n            .selectAll(\"path\")\n            .style(\"stroke\", \"black\");\n        axes\n            .selectAll(\"line\")\n            .style(\"stroke\", \"black\");\n        console.log(props.fontSize);\n        svg\n            .selectAll(\"text\")\n            .style(\"fill\", \"black\")\n            .attr(\"font-size\", props.fontSize);\n\n        // brushing\n        axes\n            .each(function (d) {\n                d3.select(this).call(scales[d].brush = d3.brushY()\n                    .extent([[-10, 0], [10, height]])\n                    .on(\"start\", brush)\n                    .on(\"brush\", brush)\n                    .on(\"end\", brushend)\n                )\n            })\n            .selectAll(\"rect\")\n            .attr(\"x\", -8)\n            .attr(\"width\", 16);\n\n        var selections = new Map()\n\n        var selected = [];\n        var selectedAxes = []\n\n        function brush({selection}, key) {\n            if (!(selectedAxes.indexOf(key) > -1)) {\n                selectedAxes.push(key);\n            }\n            if (selection === null) {\n                console.log(\"Deleting\");\n                selections.delete(key);\n                selectedAxes = selectedAxes.filter(function (value, index, arr) {\n                    return value !== key;\n                });\n            } else selections.set(key, selection.map(scales[key].invert));\n            selected = [];\n            foreground.each(function (d) {\n                var active = Array.from(selections).every(([key, [max, min]]) => d[key] >= min && d[key] <= max);\n                d3.select(this).style(\"stroke\", active ? \"#005454\" : \"grey\");\n                if (active) {\n                    d3.select(this).raise();\n                    selected.push(d.id);\n                    //props.setProps({selection: this.selection, redraw: false});\n                }\n            });\n        }\n\n        function brushend(d, key) {\n            brush(d, key);\n            props.setProps({selection: selected, redraw: false, axes: selectedAxes});\n        }\n\n        // Reordering for axes\n        var dragging = {};\n\n        function position(d) {\n            var v = dragging[d];\n            return v == null ? xScale(d) : v;\n        }\n\n        var marginTop = this.margin.top;\n        axes.call(d3.drag()\n            .on(\"start\", function (event, d) {\n                if (event.y > marginTop) {\n                    return;\n                }\n                dragging[d] = this.__origin__ = xScale(d);\n                this.__dragged__ = false;\n            })\n            .on(\"drag\", function (event, d) {\n                if (!this.__origin__) {\n                    return;\n                }\n                dragging[d] = Math.min(width, Math.max(0, this.__origin__ += event.dx));\n                foreground.attr(\"d\", path);\n                dimensions.sort(function (a, b) {\n                    return position(a) - position(b);\n                });\n                xScale.domain(dimensions);\n                axes.attr(\"transform\", function (d) {\n                    return \"translate(\" + position(d) + \")\";\n                });\n                this.__dragged__ = true;\n            })\n            .on(\"end\", function (event, d) {\n                if (!this.__dragged__) {\n                    // no movement\n                } else {\n                    //reorder\n                    d3.select(this).transition().attr(\"transform\", \"translate(\" + xScale(d) + \")\");\n                    // TODO: Add brush\n                }\n                xScale.domain(dimensions);\n                delete this.__dragged__;\n                delete this.__origin__;\n                delete dragging[d];\n            }))\n\n\n        // Returns the path for a given data point.\n        function path(d) {\n            return d3.line()(dimensions.map(function (p) {\n                return [xScale(p), scales[p](d[p])];\n            }));\n        }\n    }\n}\n\n"],"sourceRoot":""}